### Занятие 2 

**Тема**: Разработка динамически подключаемых библиотек и приложений, их использующих.

**Задачи**:   
1.&nbsp;Изучение способов борьбы с искажением имен;  
2.&nbsp;Создание приложения, которое использует явное связывание (explicit linking)с DLL.

**Результат**: Решение из Занятия 1, в которое добавить:  
1.&nbsp;Демонстрацию различных способов борьбы с искажением имен в проекте «DLL, разработанная с помощью Мастера»;  
2.&nbsp;Проект «Клиент, использующий явное связывание с DLL».  

**Описание**:

1.&nbsp;Изучить различные способы борьбы с искажением имен при экспортировании функций и переменных.  
Использовать каждый способ в спроектированной с помощью Мастера DLL из проекта Занятия 1. Использовать инструмент Depends для проверки имен.

*Способы борьбы с искажением имен.*  
Можно избежать искажения имен с помощью DEF-файла, в котором перечисляются неизменяемые имена. DEF-файл добавляется к DLL-проекту: первая строка – ключевое слово "EXPORTS", затем – список неизменяемых имен, каждое имя начинается с новой строки. DEF-файл подключается автоматически.  
>1.&nbsp;DEF-файл – символьное имя;  
2.&nbsp;DEF-файл – порядковый номер;
GetProcAddress(hModule,MAKEINTRESOURCE(<номер>);  
3.&nbsp;модификатор extern “C” в коде на С++ не дает компилятору искажать имена переменных и функций;  
4.&nbsp;директива pragma в исходном модуле DLL #pragma comment(linker,"/export:<символьное имя>=<искаженное имя>")

2.&nbsp;Прочитать
Дж. Рихтер. Windows для профессионалов: создание эффективных Win32-приложений с учетом специфики 64-разрядной версии Windows.
Глава 20. DLL: более сложные методы программирования:
* Явная загрузка DLL;
* Явная выгрузка DLL;
* Явное подключение экспортируемого идентификатора.

3.&nbsp;Изучить архивы SlnADDLImplicitClient, SlnExplicitDLL.

4.&nbsp;Создать приложение (добавить проект к Solution Занятия 1), которое использует явное связывание с DLL.  
Функция GetLastError()!!!  
Tools-Error Lookup  